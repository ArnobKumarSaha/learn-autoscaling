I0622 05:41:58.756127       1 compute_autoscaler.go:75] Listing VPAs for MariaDB Autoscaler
pods in GetRecommendation = mg-sh-configsvr-0, mg-sh-configsvr-1, mg-sh-configsvr-2,
+++++++++++ getUpdatePriority ++++++++++++++++ mg-sh-configsvr-0 ; container= mongodb
map[cpu:s:300m} memory:{s:300Mi}],
cpu {s:1}memory {s:1Gi}
 --------------------- cpu 300 1000
I0622 05:41:58.802503       1 decider.go:154] Container with ContainerScalingModeOff. Skipping container exporter quick OOM calculations
I0622 05:41:58.802526       1 decider.go:129] pod accepted for update demo/mg-sh-configsvr-0 with priority 4.746666666666667
I0622 05:41:58.802541       1 calculator.go:105] updating requirements for pod mg-sh-configsvr-0.
I0622 05:41:58.806038       1 calculator.go:72] no matching recommendation found for container exporter, using Pod request
I0622 05:41:58.806060       1 util.go:162] previousOnlyPodMemory = 314572800Total PodMemory will be = 1073741824, CurrentInMemoryStorage = 0
I0622 05:41:58.808820       1 client.go:76] Creating ops.kubedb.com/v1alpha1, Kind=MongoDBOpsRequest demo/mops-mg-sh-configsvr-gydb83.
I0622 05:41:58.830554       1 compute_autoscaler.go:362] Shard recommended resources: Target: 1Gi, LowerBound: 1Gi, UpperBound: 1Gi
I0622 05:41:58.830681       1 workqueue.go:42] started processing, key: demo/mg-as-sh
 --------------------- memory 314572800000 1073741824000pods in GetRecommendation = mg-sh-shard0-0, mg-sh-shard0-1, mg-sh-shard0-2, mg-sh-shard1-0, mg-sh-shard1-1, mg-sh-shard1-2,
+++++++++++ getUpdatePriority ++++++++++++++++ mg-sh-shard0-0 ; container= mongodb
map[cpu:{i:{value:700 scale:-3} d:{Dec:<nil>} s:700m Format:DecimalSI} memory:{i:{value:1073741824 scale:0} d:{Dec:<nil>} s:1Gi Format:BinarySI}],
 memory {i:{value:1073741824 scale:0} d:{Dec:<nil>} s:1Gi Format:BinarySI}cpu {i:{value:1 scale:0} d:{Dec:<nil>} s:1 Format:DecimalSI}
 --------------------- memory 1073741824000 1073741824000
I0622 05:41:58.870434       1 decider.go:154] Container with ContainerScalingModeOff. Skipping container exporter quick OOM calculations
I0622 05:41:58.870446       1 decider.go:129] pod accepted for update demo/mg-sh-shard0-0 with priority 0.42857142857142855
I0622 05:41:58.870455       1 calculator.go:105] updating requirements for pod mg-sh-shard0-0.
I0622 05:41:58.877808       1 calculator.go:72] no matching recommendation found for container exporter, using Pod request
I0622 05:41:58.878035       1 util.go:162] previousOnlyPodMemory = 1073741824Total PodMemory will be = 1073741824, CurrentInMemoryStorage = 4.294967296e+08
I0622 05:41:58.881801       1 mongodb_ops_request.go:140] Last ops req is not successful yet




1 compute_autoscaler.go:158] Listing VPAs for MongoDB Autoscaler
 --------------------- cpu 700 1000pods in GetRecommendation = mg-sh-configsvr-0, mg-sh-configsvr-1, mg-sh-configsvr-2,
+++++++++++ getUpdatePriority ++++++++++++++++ mg-sh-configsvr-0 ; container= mongodb map[cpu:{i:{value:1 scale:0} d:{Dec:<nil>} s:1 Format:DecimalSI} memory:{i:{value:1073741824 scale:0} d:{Dec:<nil>} s:1Gi Format:BinarySI}], cpu {i:{value:400 scale:-3} d:{Dec:<nil>} s:400m Format:DecimalSI}memory {i:{value:419430400 scale:0} d:{Dec:<nil>} s: Format:BinarySI}
 --------------------- cpu 1000 400
I0622 05:44:59.037297       1 decider.go:154] Container with ContainerScalingModeOff. Skipping container exporter quick OOM calculations
I0622 05:44:59.037305       1 decider.go:115] not updating a short-lived pod demo/mg-sh-configsvr-0, request within recommended range
 --------------------- memory 1073741824000 419430400000+++++++++++ getUpdatePriority ++++++++++++++++ mg-sh-configsvr-1 ; container= mongodb map[cpu:{i:{value:1 scale:0} d:{Dec:<nil>} s:1 Format:DecimalSI} memory:{i:{value:1073741824 scale:0} d:{Dec:<nil>} s:1Gi Format:BinarySI}], cpu {i:{value:400 scale:-3} d:{Dec:<nil>} s:400m Format:DecimalSI}memory {i:{value:419430400 scale:0} d:{Dec:<nil>} s: Format:BinarySI}
 --------------------- cpu 1000 400
I0622 05:44:59.038932       1 decider.go:154] Container with ContainerScalingModeOff. Skipping container exporter quick OOM calculations
I0622 05:44:59.038940       1 decider.go:115] not updating a short-lived pod demo/mg-sh-configsvr-1, request within recommended range
I0622 05:44:59.040333       1 decider.go:154] Container with ContainerScalingModeOff. Skipping container exporter quick OOM calculations
I0622 05:44:59.040339       1 decider.go:115] not updating a short-lived pod demo/mg-sh-configsvr-2, request within recommended range
I0622 05:44:59.040357       1 compute_autoscaler.go:362] Shard recommended resources: Target: 400Mi, LowerBound: 400Mi, UpperBound: 1Gi
 --------------------- memory 1073741824000 419430400000+++++++++++ getUpdatePriority ++++++++++++++++ mg-sh-configsvr-2 ; container= mongodb map[cpu:{i:{value:1 scale:0} d:{Dec:<nil>} s:1 Format:DecimalSI} memory:{i:{value:1073741824 scale:0} d:{Dec:<nil>} s:1Gi Format:BinarySI}], cpu {i:{value:400 scale:-3} d:{Dec:<nil>} s:400m Format:DecimalSI}memory {i:{value:419430400 scale:0} d:{Dec:<nil>} s: Format:BinarySI}
 --------------------- memory 1073741824000 419430400000
 --------------------- cpu 1000 400pods in GetRecommendation = mg-sh-shard0-0, mg-sh-shard0-1, mg-sh-shard0-2, mg-sh-shard1-0, mg-sh-shard1-1, mg-sh-shard1-2,
+++++++++++ getUpdatePriority ++++++++++++++++ mg-sh-shard0-0 ; container= mongodb map[cpu:{i:{value:700 scale:-3} d:{Dec:<nil>} s:700m Format:DecimalSI} memory:{i:{value:1073741824 scale:0} d:{Dec:<nil>} s:1Gi Format:BinarySI}], cpu {i:{value:400 scale:-3} d:{Dec:<nil>} s:400m Format:DecimalSI}memory {i:{value:419430400 scale:0} d:{Dec:<nil>} s: Format:BinarySI}
 --------------------- cpu 700 400
I0622 05:44:59.066338       1 decider.go:154] Container with ContainerScalingModeOff. Skipping container exporter quick OOM calculations
I0622 05:44:59.066348       1 decider.go:129] pod accepted for update demo/mg-sh-shard0-0 with priority 1.0379464285714286
I0622 05:44:59.066354       1 calculator.go:105] updating requirements for pod mg-sh-shard0-0.


UPDATED

LLLLLLLLLLLLLListing VPAsssssssssssss
 mg-sh-configsvr 0xc002155c10 mg-sh-configsvr -> mongodb 0xc002155c40 [cpu memory] <nil>  -- 400m 400Mi 1 1Giexporter 0xc002155c50 [cpu memory] <nil>  -- 400m 400Mi 1 1Gi
 mg-sh-shard0 0xc002155c60 mg-sh-shard0 -> mongodb 0xc002155c90 [cpu memory] <nil>  -- 400m 400Mi 1 1Giexporter 0xc002155ca0 [cpu memory] <nil>  -- 400m 400Mi 1 1Gi
 mg-sh-shard1 0xc002155cc0 mg-sh-shard1 -> mongodb 0xc002155cf0 [cpu memory] <nil>  -- 400m 400Mi 1 1Giexporter 0xc002155d00 [cpu memory] <nil>  -- 400m 400Mi 1 1Gi
 mg-sh-configsvr 0xc002155d10 mg-sh-configsvr -> mongodb 0xc002155d40 [cpu memory] <nil>  -- 900Mi 1536Mi 1 1Giexporter 0xc002155d50 [cpu memory] <nil>  -- 900Mi 1536Mi 1 1Gi
 mg-sh-shard0 0xc002155d60 mg-sh-shard0 -> mongodb 0xc002155d90 [cpu memory] <nil>  -- 900Mi 1536Mi 1 1Giexporter 0xc002155da0 [cpu memory] <nil>  -- 900Mi 1536Mi 1 1Gi
 mg-sh-shard1 0xc002155dc0 mg-sh-shard1 -> mongodb 0xc002155df0 [cpu memory] <nil>  -- 900Mi 1536Mi 1 1Giexporter 0xc002155e00 [cpu memory] <nil>  -- 900Mi 1536Mi 1 1Gi
I0622 08:36:19.096694       1 cluster_feeder.go:353] Start selecting the vpaCRDs.
I0622 08:36:19.096704       1 cluster_feeder.go:376] Fetched 6 VPAs.
Listing VPAsssssssssssss
 mg-sh-configsvr 0xc00172cbb0 mg-sh-configsvr -> mongodb 0xc00172cbe0 [cpu memory] <nil>  -- 400m 400Mi 1 1Giexporter 0xc00172cbf0 [cpu memory] <nil>  -- 400m 400Mi 1 1Gi
 mg-sh-shard0 0xc00172cc00 mg-sh-shard0 -> mongodb 0xc00172cc30 [cpu memory] <nil>  -- 400m 400Mi 1 1Giexporter 0xc00172cc40 [cpu memory] <nil>  -- 400m 400Mi 1 1Gi
 mg-sh-shard1 0xc00172cc60 mg-sh-shard1 -> mongodb 0xc00172cc90 [cpu memory] <nil>  -- 400m 400Mi 1 1Giexporter 0xc00172cca0 [cpu memory] <nil>  -- 400m 400Mi 1 1Gi
 mg-sh-configsvr 0xc00172ccb0 mg-sh-configsvr -> mongodb 0xc00172cce0 [cpu memory] <nil>  -- 900Mi 1536Mi 1 1Giexporter 0xc00172ccf0 [cpu memory] <nil>  -- 900Mi 1536Mi 1 1Gi
 mg-sh-shard0 0xc00172cd00 mg-sh-shard0 -> mongodb 0xc00172cd40 [cpu memory] <nil>  -- 900Mi 1536Mi 1 1Giexporter 0xc00172cd50 [cpu memory] <nil>  -- 900Mi 1536Mi 1 1Gi
 mg-sh-shard1 0xc00172cd70 mg-sh-shard1 -> mongodb 0xc00172cda0 [cpu memory] <nil>  -- 900Mi 1536Mi 1 1Giexporter 0xc00172cdb0 [cpu memory] <nil>  -- 900Mi 1536Mi 1 1Gi
I0622 08:40:19.528315       1 cluster_feeder.go:353] Start selecting the vpaCRDs.
I0622 08:40:19.528326       1 cluster_feeder.go:376] Fetched 6 VPAs.




